{"version":3,"sources":["./src/app/teacher/subject-teacher/add-teacher/add-teacher.component.ts","./src/app/teacher/subject-teacher/add-teacher/add-teacher.component.html","./src/app/teacher/subject-teacher/subject-teacher.module.ts","./src/app/teacher/subject-teacher/subject-teacher-routing.module.ts","./src/app/teacher/subject-teacher/teachers/teachers.component.ts","./src/app/teacher/subject-teacher/teachers/teachers.component.html"],"names":[],"mappings":"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","file":"subject-teacher-subject-teacher-module-es2015.js","sourcesContent":["import { AfterViewInit, Component, ElementRef, OnDestroy, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { Teacher } from 'src/app/core/models';\nimport { SubjectService } from '../../services/subject.service';\nimport { TeacherService } from '../../services/teacher.service';\n\n@Component({\n  selector: 'app-add-teacher',\n  templateUrl: './add-teacher.component.html',\n  styleUrls: ['./add-teacher.component.css']\n})\nexport class AddTeacherComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('input') input!: ElementRef;\n\n  public inputSubscription!: Subscription;\n  public teachers$!: Observable<Array<Teacher>>;\n  public subjectId!: string | null;\n  public selectedTeacher!: Teacher | null;\n\n  constructor(\n    private readonly subjectService: SubjectService,\n    private readonly route: ActivatedRoute,\n    private readonly router: Router\n  ) { \n    this.subjectId = this.route.snapshot.paramMap.get('subject-id');\n  }\n\n  public ngAfterViewInit(): void {\n\n    this.inputSubscription = fromEvent(this.input.nativeElement, 'keyup')\n    .subscribe(() => {\n      const criterion = this.input.nativeElement.value;\n      this.teachers$ = this.subjectService.searchTeachers(this.subjectId, criterion);\n    });\n\n  }\n\n  public selectTeacher(teacher: Teacher): void {\n    this.selectedTeacher = teacher;\n  }\n\n  public deselectTeacher(): void {\n    this.selectedTeacher = null;\n  }\n\n  public submitTeacher(): void {\n\n    if(!this.selectedTeacher) { \n      return;\n    }\n\n    this.subjectService.addTeacherToSubject(this.selectedTeacher.id, this.subjectId)\n    .pipe(take(1))\n    .subscribe(() => {\n      this.router.navigate([`/teacher/subjects/${this.subjectId}/teachers/`]);\n    });\n\n  }\n\n  public ngOnDestroy(): void {\n    this.inputSubscription!.unsubscribe();\n  }\n\n}\n","<div class=\"form-wrapper\">\n\n    <div class=\"center-form\">\n        <form class=\"form-box\">\n            <h1>Add teacher</h1>\n            <div>\n\n                <div [hidden]=\"selectedTeacher\">\n                    <input placeholder=\"Search by username or email\" #input class=\"blue-input\">\n\n                    <ul class=\"search-result-list box-shadow\">\n                        <ng-container *ngFor=\"let teacher of teachers$ | async\">\n                            <li class=\"hover\" (click)=\"selectTeacher(teacher)\">\n                                <div>{{teacher.username}}</div>\n                                <div>{{teacher.email}}</div>\n                            </li>\n                        </ng-container>\n                    </ul>\n                </div>\n\n                <div *ngIf=\"selectedTeacher\">\n                    <div class=\"selected-result box-shadow\">\n                        <p>{{selectedTeacher.username}}</p>\n                        <p>{{selectedTeacher.email}}</p>\n                    </div>\n                    <button id=\"cancel\" class=\"hover white-button\" (click)=\"deselectTeacher()\">Cancel</button>\n                </div>\n\n            </div>\n\n            <button class=\"hover bottom-button form-blue-button\" type=\"button\" (click)=\"submitTeacher()\"\n            [disabled]=\"!selectedTeacher\">\n            Add\n        </button>\n        </form>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SubjectTeacherRoutingModule } from './subject-teacher-routing.module';\nimport { AddTeacherComponent } from './add-teacher/add-teacher.component';\nimport { TeachersComponent } from './teachers/teachers.component';\n\n\n@NgModule({\n  declarations: [\n    AddTeacherComponent,\n    TeachersComponent\n  ],\n  imports: [\n    CommonModule,\n    SubjectTeacherRoutingModule\n  ]\n})\nexport class SubjectTeacherModule { }\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AddTeacherComponent } from './add-teacher/add-teacher.component';\nimport { TeachersComponent } from './teachers/teachers.component';\n\nconst routes: Routes = [\n  { path: '', children: [\n    { path: 'add', component: AddTeacherComponent },\n    { path: '', component: TeachersComponent, pathMatch: 'full' },\n  ]}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SubjectTeacherRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { switchMap, take } from 'rxjs/operators';\nimport { Teacher } from 'src/app/core/models';\nimport { SubjectService } from '../../services/subject.service';\n\n@Component({\n  selector: 'app-teachers',\n  templateUrl: './teachers.component.html',\n  styleUrls: ['./teachers.component.css']\n})\nexport class TeachersComponent implements OnInit {\n  public subject$!: Observable<any>;\n  public teachers$!: Observable<Array<Teacher>>;\n  public refreshedTeachers$ = new BehaviorSubject<boolean>(true);\n  public subjectId: string | null;\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly subjectService: SubjectService,\n  ) {\n    this.subjectId = this.route.snapshot.paramMap.get('subject-id');\n  }\n\n  public ngOnInit(): void {\n    this.subject$ = this.subjectService.getSubject(this.subjectId);\n    this.teachers$ = this.refreshedTeachers$\n      .pipe(switchMap(_ => this.subjectService.getSubjectTeachers(this.subjectId)));\n  }\n\n  public refreshTeachers(): void {\n    this.refreshedTeachers$.next(true);\n  }\n\n  public removeTeacherFromSubject(teacherId: number): void {\n    this.subjectService.removeTeacherFromSubject(teacherId, this.subjectId)\n      .pipe(take(1))\n      .subscribe(() => {\n        this.refreshTeachers();\n      });\n  }\n\n}\n","<ng-container *ngIf=\"subject$ | async as subject\">\n\n    <div class=\"page-wrapper\">\n        <nav class=\"navbar\">\n            <div class=\"heading-nav\">\n                <h2 id=\"heading\"> {{ subject.name | uppercase }}</h2>\n            </div>\n\n            <div class=\"button-nav\">\n                <button id=\"teachers\" class=\"hover blue-button\" routerLink=\"add\">Add teacher</button>\n            </div>\n        </nav>\n\n        <main class=\"page\">\n            <h2>Teachers</h2>\n\n            <table class=\"info-table\">\n                <thead>\n                    <th>Username</th>\n                    <th>Email</th>\n                    <th>Action</th>\n                </thead>\n                \n                <ng-container>\n                    <tbody>\n                        <tr *ngFor=\"let teacher of teachers$ | async\">\n                            <td data-label=\"Username\">{{teacher.username}}</td>\n                            <td data-label=\"Email\">{{teacher.email}}</td>\n                            <td data-label=\"Action\" (click)=\"removeTeacherFromSubject(teacher.id)\">Remove</td>\n                        </tr>\n                    </tbody>\n                </ng-container>\n            </table>\n\n        </main>\n    </div>\n</ng-container>"],"sourceRoot":"webpack:///"}